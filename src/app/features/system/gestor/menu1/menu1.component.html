<main class="container_principal">
    <div class="container_content_geral">
        <div class="container_visao_geral">
            <div class="total_de_pacientes indicadores">
                <div class="container_texto">
                    <h5>Total Pacientes</h5>
                    <p>{{quantidadePacientes}}</p>
                </div>
                <div class="container_icon">
                    <img class="icon_paciente">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M17.841 15.659L18.017 15.836L18.1945 15.659C19.0732 14.7803 20.4978 14.7803 21.3765 15.659C22.2552 16.5377 22.2552 17.9623 21.3765 18.841L18.0178 22.1997L14.659 18.841C13.7803 17.9623 13.7803 16.5377 14.659 15.659C15.5377 14.7803 16.9623 14.7803 17.841 15.659ZM12 14V16C8.68629 16 6 18.6863 6 22H4C4 17.6651 7.44784 14.1355 11.7508 14.0038L12 14ZM12 1C15.315 1 18 3.685 18 7C18 10.2397 15.4357 12.8776 12.225 12.9959L12 13C8.685 13 6 10.315 6 7C6 3.76034 8.56434 1.12237 11.775 1.00414L12 1ZM12 3C9.78957 3 8 4.78957 8 7C8 9.21043 9.78957 11 12 11C14.2104 11 16 9.21043 16 7C16 4.78957 14.2104 3 12 3Z">
                        </path>
                    </svg>
                </div>
            </div>

            <div class="usuarios_ativos indicadores">
                <div class="container_texto">
                    <h5>Usuários Ativos</h5>
                    <p>4</p>
                </div>
                <div class="container_icon">
                    <img class="icon_usuario">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M2 22C2 17.5817 5.58172 14 10 14C14.4183 14 18 17.5817 18 22H16C16 18.6863 13.3137 16 10 16C6.68629 16 4 18.6863 4 22H2ZM10 13C6.685 13 4 10.315 4 7C4 3.685 6.685 1 10 1C13.315 1 16 3.685 16 7C16 10.315 13.315 13 10 13ZM10 11C12.21 11 14 9.21 14 7C14 4.79 12.21 3 10 3C7.79 3 6 4.79 6 7C6 9.21 7.79 11 10 11ZM18.2837 14.7028C21.0644 15.9561 23 18.752 23 22H21C21 19.564 19.5483 17.4671 17.4628 16.5271L18.2837 14.7028ZM17.5962 3.41321C19.5944 4.23703 21 6.20361 21 8.5C21 11.3702 18.8042 13.7252 16 13.9776V11.9646C17.6967 11.7222 19 10.264 19 8.5C19 7.11935 18.2016 5.92603 17.041 5.35635L17.5962 3.41321Z">
                        </path>
                    </svg>
                </div>
            </div>

            <div class="programacao indicadores">
                <div class="container_texto">
                    <h5>Programação do dia</h5>
                    <p>1</p>
                </div>
                <div class="container_icon">
                    <img class="icon_calendario">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 11H4V19H20V11ZM7 5H4V9H20V5H17V7H15V5H9V7H7V5Z">
                        </path>
                    </svg>
                </div>
            </div>

            <div class="mensagens indicadores">
                <div class="container_texto">
                    <h5>Mensagens</h5>
                    <p>1</p>
                </div>
                <div class="container_icon">
                    <img class="icon_mensagem">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M2 8.99374C2 5.68349 4.67654 3 8.00066 3H15.9993C19.3134 3 22 5.69478 22 8.99374V21H8.00066C4.68659 21 2 18.3052 2 15.0063V8.99374ZM20 19V8.99374C20 6.79539 18.2049 5 15.9993 5H8.00066C5.78458 5 4 6.78458 4 8.99374V15.0063C4 17.2046 5.79512 19 8.00066 19H20ZM14 11H16V13H14V11ZM8 11H10V13H8V11Z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>

        <div class="container_atividades">

            <div class="card_atividades section_card">
                <h3>Mensagens Recentes</h3>

                <div class="ativar_item">
                    <div class="icon">

                    </div>
                    <div class="details">
                        <div class="container_txt_msg">
                            Gestor <br>
                            Bom dia, equipe! Passando para desejar um ótimo <br>
                            plantão a todos!
                        </div>
                    </div>
                </div>
            </div>

            <div class="card_acoes_rapidas section_card">
                <h3>Ações Rápidas</h3>

                <button class="botao" (click)="abrirModal()">
                    <img class="icon_add_paciente"> Adicionar Novo Paciente
                </button>
                <button class="botao">
                    <img class="icon_add_user"> Adicionar Novo Usuário
                </button>
                <button class="botao">
                    <img class="icon_calendario"> Gerenciar Agenda
                </button>
            </div>
        </div>
    </div>
</main>

@if (modalAberto) {
<div class="modal-overlay" (click)="fecharModal()">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Add New Patient</h2>
            <button class="close-btn" (click)="fecharModal()">&times;</button>
        </div>

        <div class="modal-body">
            <div class="form-group">
                <label>Patient Name</label>
                <input type="text" class="form-input" placeholder="Enter patient name"
                    [(ngModel)]="novoPaciente.nomePaciente">
            </div>

            <div class="form-group">
                <label>Age</label>
                <input type="number" class="form-input" placeholder="Enter age" [(ngModel)]="novoPaciente.idade">
            </div>

            <div class="form-group">
                <label>Address</label>
                <input type="text" class="form-input" placeholder="Enter full address"
                    [(ngModel)]="novoPaciente.endereco">
            </div>

            <div class="form-group">
                <label>Comorbidities</label>
                <input type="text" class="form-input" placeholder="Enter conditions separated by commas"
                    [(ngModel)]="novoPaciente.comorbidades">
            </div>

            <div class="form-group">
                <label>Assigned Caregiver</label>
                <select class="form-select" [(ngModel)]="novoPaciente.cuidadorAtribuido">
                    <option value="" disabled selected>Select Caregiver</option>
                    <option *ngFor="let cuidador of cuidadores" [value]="cuidador">{{cuidador}}</option>
                </select>
            </div>

            <div class="form-group">
                <label>Assigned Doctor</label>
                <select class="form-select" [(ngModel)]="novoPaciente.medicoAtribuido">
                    <option value="" disabled selected>Select Doctor</option>
                    <option *ngFor="let medico of medicos" [value]="medico">{{medico}}</option>
                </select>
            </div>

            <div class="form-group">
                <label>Family Contact</label>
                <select class="form-select" [(ngModel)]="novoPaciente.contatoFamiliar">
                    <option value="" disabled selected>Select Family Member</option>
                    <option *ngFor="let familiar of familiares" [value]="familiar">{{familiar}}</option>
                </select>
            </div>
        </div>

        <div class="modal-footer">
            <button class="btn-add" (click)="adicionarPaciente()">Add Patient</button>
            <button class="btn-cancel" (click)="fecharModal()">Cancel</button>
        </div>
    </div>
</div>
}

@if (modalSucessoAberto) {
<div class="modal-overlay" (click)="fecharModalSucesso()">
    <div class="modal-container modal-sucesso" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Sucesso!</h2>
        </div>

        <div class="modal-body">
            <div class="sucesso-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="64" height="64" fill="currentColor">
                    <path
                        d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11.0026 16L18.0737 8.92893L16.6595 7.51472L11.0026 13.1716L8.17421 10.3431L6.75999 11.7574L11.0026 16Z">
                    </path>
                </svg>
            </div>
            <p class="sucesso-mensagem">Paciente adicionado com sucesso!</p>
        </div>

        <div class="modal-footer">
            <button class="btn-ok" (click)="fecharModalSucesso()">OK</button>
        </div>
    </div>
</div>
}